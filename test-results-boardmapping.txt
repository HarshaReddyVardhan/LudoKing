
> ludo-king-party@0.0.1 test
> vitest --run


[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mD:/Project/LudoKing[39m

 [32mΓ£ô[39m src/logic/gameState.test.ts [2m ([22m[2m3 tests[22m[2m)[22m[90m 6[2mms[22m[39m
 [32mΓ£ô[39m src/room/roomUtils.test.ts [2m ([22m[2m7 tests[22m[2m)[22m[90m 11[2mms[22m[39m
 [32mΓ£ô[39m src/logic/smartBot.test.ts [2m ([22m[2m4 tests[22m[2m)[22m[90m 7[2mms[22m[39m
 [33mΓ¥»[39m src/logic/diceEngine.test.ts [2m ([22m[2m7 tests[22m [2m|[22m [31m1 failed[39m[2m)[22m[90m 20[2mms[22m[39m
[31m   [33mΓ¥»[31m src/logic/diceEngine.test.ts[2m > [22mDice Engine[2m > [22mhandleRollRequest (Anti-Cheat)[2m > [22mshould prevent double rolls in succession[39m
[31m     ΓåÆ expected 'Rolling too fast' to contain 'Cannot roll in MOVING phase'[39m
 [32mΓ£ô[39m src/logic/simpleBot.test.ts [2m ([22m[2m5 tests[22m[2m)[22m[90m 9[2mms[22m[39m
 [33mΓ¥»[39m src/shared/renderPath.test.ts [2m ([22m[2m7 tests[22m [2m|[22m [31m1 failed[39m[2m)[22m[90m 18[2mms[22m[39m
[31m   [33mΓ¥»[31m src/shared/renderPath.test.ts[2m > [22mrenderPath[2m > [22mgetPawn3DPosition[2m > [22mshould return main track position using board logic[39m
[31m     ΓåÆ Cannot find module './board'
Require stack:
- D:\Project\LudoKing\src\shared\renderPath.ts[39m
 [33mΓ¥»[39m src/logic/moveValidation.test.ts [2m ([22m[2m16 tests[22m [2m|[22m [31m1 failed[39m[2m)[22m[90m 24[2mms[22m[39m
[31m   [33mΓ¥»[31m src/logic/moveValidation.test.ts[2m > [22mMovement Validation[2m > [22mPawn on Main Track[2m > [22mshould not allow move if blocked by own pawn[39m
[31m     ΓåÆ expected { pawnId: 'RED_0', from: 10, ΓÇª(3) } to be undefined[39m

npm : 
[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[1m[7m 
Failed Tests 3 
[27m[22mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[39m
At line:1 char:1
+ npm run test -- --run 2>&1 | Out-File 
-FilePath test-results-boardmap ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecif 
   ied: ([31mΓÄ»ΓÄ»ΓÄ»Γ...»ΓÄ»ΓÄ»ΓÄ»  
  [39m:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCom 
   mandError
 

[31m[1m[7m FAIL [27m[22m[39m 
src/logic/diceEngine.test.ts[2m > 
[22mDice Engine[2m > 
[22mhandleRollRequest (Anti-Cheat)[2m 
> [22mshould prevent double rolls in 
succession
[31m[1mAssertionError[22m: expected 
'Rolling too fast' to contain 'Cannot 
roll in MOVING phase'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Cannot roll in MOVING phase[39m
[31m+ Rolling too fast[39m

[36m [2mΓ¥»[22m src/logic/diceEngine.
test.ts:[2m68:38[22m[39m
    [90m 66| [39m            
[35mconst[39m secondRoll [33m=[39m 
[34mhandleRollRequest[39m(firstRoll[33
m.[39mnewState[33m,[39m 
[32m'[39mΓÇª
    [90m 67| [39m            [34mexpe
ct[39m(secondRoll[33m.[39msuccess)[3
3m.[39m[34mtoBe[39m([35mfalse[39m)
[33m;[39m
    [90m 68| [39m            [34mexpe
ct[39m(secondRoll[33m.[39merror)[33m
.[39m[34mtoContain[39m([32m'Cannot 
roll in MOVING [39mΓÇª
    [90m   | [39m                     
                [31m^[39m
    [90m 69| [39m        })[33m;[39m
    [90m 70| [39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ
»[1/3]ΓÄ»[22m[39m

[31m[1m[7m FAIL [27m[22m[39m 
src/logic/moveValidation.test.ts[2m > 
[22mMovement Validation[2m > 
[22mPawn on Main Track[2m > 
[22mshould not allow move if blocked 
by own pawn
[31m[1mAssertionError[22m: expected 
{ pawnId: 'RED_0', from: 10, ΓÇª(3) } 
to be undefined[39m
[36m [2mΓ¥»[22m src/logic/moveValidat
ion.test.ts:[2m85:30[22m[39m
    [90m 83| [39m
    [90m 84| [39m            
[35mconst[39m pawnMove [33m=[39m 
validMoves[33m.[39m[34mfind[39m(m 
[33m=>[39m m[33m.[39mpawnId 
[33m===[39m [32m'RED_0'[39mΓÇª
    [90m 85| [39m            [34mexpe
ct[39m(pawnMove)[33m.[39m[34mtoBeUnd
efined[39m()[33m;[39m
    [90m   | [39m                     
        [31m^[39m
    [90m 86| [39m        })[33m;[39m
    [90m 87| [39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ
»[2/3]ΓÄ»[22m[39m

[31m[1m[7m FAIL [27m[22m[39m 
src/shared/renderPath.test.ts[2m > 
[22mrenderPath[2m > 
[22mgetPawn3DPosition[2m > 
[22mshould return main track position 
using board logic
[31m[1mError[22m: Cannot find module 
'./board'
Require stack:
- D:\Project\LudoKing\src\shared\renderP
ath.ts[39m
[36m [2mΓ¥»[22m 
Module.getPawn3DPosition src/shared/rend
erPath.ts:[2m187:34[22m[39m
    [90m185| [39m    [90m// `board` 
doesn't import `renderPath`.[39m
    [90m186| [39m
    [90m187| [39m    [35mconst[39m 
{ toGlobalPosition } [33m=[39m [34mre
quire[39m([32m'./board'[39m)[33m;[3
9m [90m// Dynamic import[39mΓÇª
    [90m   | [39m                     
            [31m^[39m
    [90m188| [39m    [90m// Or just 
import at top. Circular dependency 
`board` <-> `renderP[39mΓÇª
    [90m189| [39m    [90m// checked 
board.ts, it only imports types. So 
safe to import boar[39mΓÇª
[90m [2mΓ¥»[22m src/shared/renderPath
.test.ts:[2m52:27[22m[39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ
»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[22m[39m
[31m[1mSerialized Error:[22m[39m 
[90m{ code: 'MODULE_NOT_FOUND', 
requireStack: [ 'D:\Project\LudoKing\src
\shared\renderPath.ts' ] }[39m
[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ
»[3/3]ΓÄ»[22m[39m

[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m4 passed[39m[22m[90m (7)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m46 passed[39m[22m[90m (49)[39m
[2m   Start at [22m 00:28:38
[2m   Duration [22m 1.23s[2m (transform 1.15s, setup 2ms, collect 4.40s, tests 95ms, environment 2ms, prepare 1.49s)[22m

